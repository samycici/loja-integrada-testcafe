!function(){function t(e){var n=e.document;!function(t){"use strict";var e,n,i,s,a,o={".js":[],".json":[],".css":[],".html":[]},r="function"==typeof require?require:null;return s=function(t){var e=new Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},a=function(t,e,n){var i,s;if("function"==typeof t[e+n])return e+n;for(i=0;s=o[n][i];++i)if("function"==typeof t[e+s])return e+s;return null},e=function(t,i,o,r,u,l){var d,c,h,f,p,m;for(o=o.split(/[\\\/]/),d=o.pop(),"."!==d&&".."!==d||(o.push(d),d="");null!=(c=o.shift());)if(c&&"."!==c&&(".."===c?(t=i.pop(),l=l.slice(0,l.lastIndexOf("/"))):(i.push(t),t=t[c],l+="/"+c),!t))throw s(r);if(d&&"function"!=typeof t[d]&&(m=a(t,d,".js"),m||(m=a(t,d,".json")),m||(m=a(t,d,".css")),m||(m=a(t,d,".html")),m?d=m:2!==u&&"object"==typeof t[d]&&(i.push(t),t=t[d],l+="/"+d,d="")),!d)return 1!==u&&t[":mainpath:"]?e(t,i,t[":mainpath:"],r,1,l):e(t,i,"index",r,2,l);if(p=t[d],!p)throw s(r);return p.hasOwnProperty("module")?p.module.exports:(h={},p.module=f={exports:h,id:l+"/"+d},p.call(h,h,f,n(t,i,l)),f.exports)},i=function(n,i,a,o){var u,l=a,d=a.charAt(0),c=0;if("/"===d){if(l=l.slice(1),n=t["/"],!n){if(r)return r(a);throw s(a)}o="/",i=[]}else if("."!==d){if(u=l.split("/",1)[0],n=t[u],!n){if(r)return r(a);throw s(a)}o=u,i=[],l=l.slice(u.length+1),l||(l=n[":mainpath:"],l?c=1:(l="index",c=2))}return e(n,i,l,a,c,o)},(n=function(t,e,n){return function(s){return i(t,[].concat(e),s,n)}})(t,[],"")}({testcafe:{src:{client:{ui:{cursor:{"iframe-cursor.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}t.__esModule=!0;var a=i("../deps/hammerhead"),o=s(a),r=i("../deps/testcafe-core"),u=i("./messages"),l=s(u),d=o["default"].utils.browser,c=d.isIE?1:0;t["default"]={move:function(t,n){var i={cmd:l["default"].moveRequest,x:t+c,y:n+c};return(0,r.sendRequestToFrame)(i,l["default"].moveResponse,e.parent)},leftButtonDown:function(){return(0,r.sendRequestToFrame)({cmd:l["default"].leftButtonDownRequest},l["default"].leftButtonDownResponse,e.parent)},rightButtonDown:function(){return(0,r.sendRequestToFrame)({cmd:l["default"].rightButtonDownRequest},l["default"].rightButtonDownResponse,e.parent)},buttonUp:function(){return(0,r.sendRequestToFrame)({cmd:l["default"].buttonUpRequest},l["default"].buttonUpResponse,e.parent)}},n.exports=t["default"]},"index.js":function(t,e,i){function s(t){return t&&t.__esModule?t:{"default":t}}t.__esModule=!0;var a=i("./../deps/hammerhead"),o=s(a),r=i("./../deps/testcafe-core"),u=s(r),l=i("./messages"),d=s(l),c=o["default"].Promise,h=o["default"].shadowUI,f=o["default"].utils.browser,p=o["default"].eventSandbox.message,m=u["default"].styleUtils,g=u["default"].positionUtils,v="cursor",_="touch",y="l-mouse-down",C="r-mouse-down",E=[y,C].join(" ");p.on(p.SERVICE_MSG_RECEIVED_EVENT,function(t){var e=t.message;switch(e.cmd){case d["default"].moveRequest:var n=g.getIframePointRelativeToParentFrame({x:e.x,y:e.y},t.source);w.move(n.x,n.y).then(function(){return p.sendServiceMsg({cmd:d["default"].moveResponse},t.source)});break;case d["default"].leftButtonDownRequest:w.leftButtonDown().then(function(){return p.sendServiceMsg({cmd:d["default"].leftButtonDownResponse},t.source)});break;case d["default"].rightButtonDownRequest:w.rightButtonDown().then(function(){return p.sendServiceMsg({cmd:d["default"].rightButtonDownResponse},t.source)});break;case d["default"].buttonUpRequest:w.buttonUp().then(function(){return p.sendServiceMsg({cmd:d["default"].buttonUpResponse},t.source)})}});var w={cursorElement:null,x:50,y:50,pointerOffsetX:0,pointerOffsetY:0,_createElement:function(){this.cursorElement=n.createElement("div"),h.addClass(this.cursorElement,v),f.isTouchDevice&&!f.isIE&&(h.addClass(this.cursorElement,_),this.pointerOffsetX=Math.ceil(m.getWidth(this.cursorElement)/2),this.pointerOffsetY=Math.ceil(m.getHeight(this.cursorElement)/2)),h.getRoot().appendChild(this.cursorElement)},isVisible:function(){return this.cursorElement&&"hidden"!==m.get(this.cursorElement,"visibility")},hide:function(){this.cursorElement||this._createElement(),m.set(this.cursorElement,"visibility","hidden")},show:function(){this.cursorElement||this._createElement(),m.set(this.cursorElement,"visibility","")},move:function(t,e){return this.x=t,this.y=e,this.cursorElement||this._createElement(),m.set(this.cursorElement,{left:this.x-this.pointerOffsetX+"px",top:this.y-this.pointerOffsetY+"px"}),c.resolve()},leftButtonDown:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,E),h.addClass(this.cursorElement,y),c.resolve()},rightButtonDown:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,E),h.addClass(this.cursorElement,C),c.resolve()},buttonUp:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,E),c.resolve()}};t["default"]=w,e.exports=t["default"]},"messages.js":function(t,e,n){t.__esModule=!0,t["default"]={moveRequest:"ui|cursor|move|request",leftButtonDownRequest:"ui|cursor|leftbuttondown|request",rightButtonDownRequest:"ui|cursor|rightbuttondown|request",buttonUpRequest:"ui|cursor|buttonup|request",moveResponse:"ui|cursor|move|response",leftButtonDownResponse:"ui|cursor|leftbuttondown|response",rightButtonDownResponse:"ui|cursor|rightbuttondown|response",buttonUpResponse:"ui|cursor|buttonup|response"},e.exports=t["default"]}},deps:{"hammerhead.js":function(t,n,i){t.__esModule=!0,t["default"]=e["%hammerhead%"],n.exports=t["default"]},"testcafe-core.js":function(t,n,i){t.__esModule=!0,t["default"]=e["%testCafeCore%"],n.exports=t["default"]}},"index.js":function(n,i,s){function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}var r=s("./deps/hammerhead"),u=o(r),l=s("./deps/testcafe-core"),d=o(l),c=s("./select-element"),h=a(c),f=s("./modal-background"),p=a(f),m=s("./progress-panel"),g=o(m),v=s("./status-bar"),_=o(v),y=s("./status-bar/iframe-status-bar"),C=o(y),E=s("./cursor"),w=o(E),b=s("./cursor/iframe-cursor"),x=a(b),B=u["default"].Promise,S=u["default"].eventSandbox.message,I=d["default"].sendRequestToFrame,T="ui|hide|request",R="ui|hide|response",D="ui|show|request",M="ui|show|response";S.on(S.SERVICE_MSG_RECEIVED_EVENT,function(t){t.message.cmd===T?(u["default"].shadowUI.getRoot().style.visibility="hidden",S.sendServiceMsg({cmd:R},t.source)):t.message.cmd===D&&(u["default"].shadowUI.getRoot().style.visibility="",S.sendServiceMsg({cmd:M},t.source))}),n.cursorUI=w["default"],n.iframeCursorUI=x,n.selectElement=h,n.modalBackground=p,n.ProgressPanel=g["default"],n.StatusBar=_["default"],n.IframeStatusBar=C["default"],n.get=s,n.hide=function(t){return t?I({cmd:T},R,e.top):(u["default"].shadowUI.getRoot().style.visibility="hidden",B.resolve())},n.show=function(t){return t?I({cmd:D},M,e.top):(u["default"].shadowUI.getRoot().style.visibility="",B.resolve())},Object.defineProperty(e,"%testCafeUI%",{enumerable:!1,configurable:!1,writable:!1,value:n}),u["default"].on(u["default"].EVENTS.evalIframeScript,function(e){return t(e.iframe.contentWindow,!0)})},"modal-background.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=y.getRoot();R=n.createElement("div"),t.appendChild(R),y.addClass(R,x),D=n.createElement("div"),D.textContent=b,t.appendChild(D),y.addClass(D,B),M=n.createElement("div"),w.set(M,"visibility","hidden"),t.appendChild(M),y.addClass(M,T)}function r(){var t=w.getHeight(e),n=w.getWidth(e),i=!w.hasDimensions(D);i&&(w.set(D,"visibility","hidden"),w.set(D,"display","block")),w.set(D,{left:Math.max((n-w.getWidth(D))/2,0)+"px",top:Math.max((t-w.getHeight(D))/2,0)+"px"}),i&&(w.set(D,"display","none"),w.set(D,"visibility",""))}function u(){var t=function(){var t=w.getHeight(e),n=w.getWidth(e);w.set(R,"width",n+"px"),w.set(R,"height",t+"px"),w.set(M,{left:Math.round((n-w.getWidth(M))/2)+"px",top:Math.round((t-w.getHeight(M))/2)+"px"})};t(),E.bind(e,"resize",t)}function l(){o(),u(),r(),W=!0}function d(){var t=!1,i=function(){l(),w.set(R,"opacity",I),w.set(R,"display","block"),w.set(D,"display","block"),t=!0},s=function a(){t||(n.body?i():C.setTimeout.call(e,a,0))};s(),E.documentReady().then(function(){t||i()})}function c(t){W||l(),w.set(R,"opacity",t?0:S),w.set(R,"display","block")}function h(){W&&(w.set(D,"display","none"),w.set(R,"display","none"))}function f(){w.set(M,"visibility","visible")}function p(){w.set(M,"visibility","hidden")}t.__esModule=!0,t.initAndShowLoadingText=d,t.show=c,t.hide=h,t.showLoadingIcon=f,t.hideLoadingIcon=p;var m=s("./deps/hammerhead"),g=a(m),v=s("./deps/testcafe-core"),_=a(v),y=g["default"].shadowUI,C=g["default"].nativeMethods,E=_["default"].eventUtils,w=_["default"].styleUtils,b="Loading page...",x="modal-background",B="loading-text",S=.7,I=.8,T="loading-icon",R=null,D=null,M=null,W=!1},"progress-panel":{"index.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=s("../deps/hammerhead"),u=a(r),l=s("../deps/testcafe-core"),d=a(l),c=s("./progress-bar"),h=a(c),f=u["default"].shadowUI,p=u["default"].nativeMethods,m=d["default"].eventUtils,g=d["default"].styleUtils,v="progress-panel",_="title",y="content",C=100,E=10,w=300,b=200,x=600,B=1e3,S=function(){function t(){var e=this;o(this,t),this.startTime=null,this.openingTimeout=null,this.updateInterval=null,this.animationInterval=null,this.panelDiv=n.createElement("div"),f.getRoot().appendChild(this.panelDiv),this.titleDiv=n.createElement("div"),this.panelDiv.appendChild(this.titleDiv),this.contentDiv=n.createElement("div"),this.panelDiv.appendChild(this.contentDiv),f.addClass(this.panelDiv,v),f.addClass(this.titleDiv,_),f.addClass(this.contentDiv,y),t._showAtWindowCenter(this.panelDiv),this.progressBar=new h["default"](this.contentDiv),this.disposePanel=function(){return t._showAtWindowCenter(e.panelDiv)}}return t._getInvisibleElementProperty=function(t,e){var n="none"===g.get(t,"display");n&&g.set(t,"display","block");var i=t[e];return n&&g.set(t,"display","none"),i},t._showAtWindowCenter=function(n){var i=t._getInvisibleElementProperty(n,"offsetHeight"),s=t._getInvisibleElementProperty(n,"offsetWidth"),a=Math.round(g.getHeight(e)/2-i/2),o=Math.round(g.getWidth(e)/2-s/2);g.set(n,{left:o+"px",top:a+"px"})},t.prototype._setCurrentProgress=function(){var t=Math.round((Date.now()-this.startTime)/this.maxTimeout*100);this.progressBar.setValue(t)},t.prototype._setSuccess=function(t){this.progressBar.setSuccess(t)},t.prototype._stopAnimation=function(){p.clearInterval.call(e,this.animationInterval)},t.prototype._animate=function(t,n,i,s){var a=this,o=Date.now(),r=i?0:1,u=0,l=0,d=0;i&&(g.set(t,"opacity",r),g.set(t,"display","block")),this._stopAnimation(),this.animationInterval=p.setInterval.call(e,function(){u=Date.now()-o,l=Math.min(u/n,1),d=.5-Math.cos(l*Math.PI)/2,g.set(t,"opacity",r+(i?d:-d)),1===l&&(a._stopAnimation(),s&&s())},E)},t.prototype._showPanel=function(){m.bind(e,"resize",this.disposePanel),this._animate(this.panelDiv,b,!0)},t.prototype._hidePanel=function(t){var n=this;this.startTime=null,m.unbind(e,"resize",this.disposePanel),this._animate(this.panelDiv,t?0:x,!1,function(){return g.set(n.panelDiv,"display","none")})},t.prototype.show=function(t,n){var i=this;this.startTime=Date.now(),this.maxTimeout=n,this.titleDiv.textContent=t,this._setSuccess(!1),this.openingTimeout=p.setTimeout.call(e,function(){i.openingTimeout=null,i._setCurrentProgress(),i._showPanel(),i.updateInterval=p.setInterval.call(e,function(){return i._setCurrentProgress()},C)},w)},t.prototype.close=function(t){var n=this;t&&this._setSuccess(!0),this.openingTimeout&&(p.clearTimeout.call(e,this.openingTimeout),this.openingTimeout=null),this.updateInterval&&(p.clearInterval.call(e,this.updateInterval),this.updateInterval=null),t?this.startTime&&Date.now()-this.startTime<B?p.setTimeout.call(e,function(){p.setTimeout.call(e,function(){return n._hidePanel(!1)},b)},C):p.setTimeout.call(e,function(){return n._hidePanel(!1)},b):this._hidePanel(!0)},t}();t["default"]=S,i.exports=t["default"]},"progress-bar.js":function(t,e,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i("../deps/hammerhead"),r=s(o),u=i("../deps/testcafe-core"),l=s(u),d=r["default"].shadowUI,c=l["default"].styleUtils,h="progress-bar",f="value",p="success",m=function(){function t(e){a(this,t),this.containerElement=n.createElement("div"),this.valueElement=n.createElement("div"),e.appendChild(this.containerElement),this.containerElement.appendChild(this.valueElement),d.addClass(this.containerElement,h),d.addClass(this.valueElement,f)}return t.prototype.setValue=function(t){t="number"!=typeof t?0:Math.min(Math.max(t,0),100),c.set(this.valueElement,"width",t+"%")},t.prototype.setSuccess=function(t){t?d.addClass(this.containerElement,p):d.removeClass(this.containerElement,p)},t}();t["default"]=m,e.exports=t["default"]}},"select-element.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t){(t.target||t.srcElement)===O||T.containsElement(O,t.target)||T.containsElement(q,t.target)||h()}function r(t,e){var n=O.selectedIndex,i=O.getElementsByTagName("option")[t],s=!e&&t!==n;s&&!x.isIE&&(O.selectedIndex=t),x.isFirefox||x.isIE||!s||S.change(O),(x.isFirefox||x.isIE)&&S.mousedown(x.isFirefox?i:O),x.isTouchDevice||S.mouseup(x.isFirefox?i:O),(x.isFirefox||x.isIE)&&s&&(x.isIE&&(O.selectedIndex=t),S.change(O)),x.isTouchDevice||S.click(x.isFirefox||x.isIE?i:O),e||h()}function u(t,e){var i=n.createElement("div"),s=t.disabled||"optgroup"===T.getTagName(t.parentElement)&&t.parentElement.disabled;i.textContent=t.text,e.appendChild(i),b.addClass(i,V),s&&(b.addClass(i,U),R.set(i,"color",R.get(t,"color"))),s&&x.isWebKit?D.bind(i,"click",function(){return!1}):D.bind(i,"click",function(){var t=M.indexOf(F,this);r(t,s)}),F.push(i)}function l(t,e){var i=n.createElement("div");i.textContent=t.label||" ",e.appendChild(i),b.addClass(i,A),i.disabled&&(b.addClass(i,U),R.set(i,"color",R.get(t,"color"))),d(t.children,i),j.push(i)}function d(t,e){for(var n=0;n<t.length;n++)T.isOptionElement(t[n])?u(t[n],e):"optgroup"===T.getTagName(t[n])&&l(t[n],e)}function c(t){var i=t.children;if(i.length){if(O){var s=t===O;if(h(),s)return}O=t,q=n.createElement("div"),b.getRoot().appendChild(q),b.addClass(q,W),d(i,q),B.setTimeout.call(e,function(){D.bind(n,"mousedown",o)},0),R.set(q,{position:"absolute",fontSize:R.get(O,"fontSize"),fontFamily:R.get(O,"fontFamily"),minWidth:R.getWidth(O)+"px",left:I.getOffsetPosition(O).left+"px",height:T.getSelectVisibleChildren(t).length>P?R.getOptionHeight(t)*P:""});var a=I.getOffsetPosition(O).top,r=R.getHeight(q),u=a+R.getHeight(O)+2;if(u+r>R.getScrollTop(e)+R.getHeight(e)){var l=a-3-r;l>=R.getScrollTop(e)&&(u=l)}R.set(q,"top",u+"px")}}function h(){T.remove(q),D.unbind(n,"mousedown",o),q=null,O=null,F=[],j=[]}function f(t){return t?t===O:!!O}function p(t){var e="optgroup"===T.getTagName(t),n=e?T.getOptionGroupIndex(O,t):T.getOptionIndex(O,t);return e?j[n]:F[n]}function m(t){var e=T.getSelectParent(t);if(e){var n=R.getSelectElementSize(e),i=R.getOptionHeight(e),s=0,a=Math.max(R.getScrollTop(e)/i,0),o=a+n-1,r=T.getChildVisibleIndex(e,t);r<a?(s=i*(a-r),R.setScrollTop(e,Math.max(R.getScrollTop(e)-s,0))):r>o&&(s=i*(r-o),R.setScrollTop(e,R.getScrollTop(e)+s))}}function g(t){var e=T.getSelectParent(t);if(!e)return{x:0,y:0};var n=R.getOptionHeight(e),i=I.getElementRectangle(t);return{x:Math.round(i.left+i.width/2),y:Math.round(i.top+n/2)}}function v(t,e){var n=R.getSelectElementSize(t),i=!R.hasDimensions(b.select("."+W)[0]);if(/down|up/.test(e)||!x.isIE&&(n<=1||x.isFirefox)&&(i||x.isFirefox)&&/left|right/.test(e)){for(var s=t.querySelectorAll("option"),a=[],o=0;o<s.length;o++){var r=s[o].parentElement;s[o].disabled||"optgroup"===T.getTagName(r)&&r.disabled||a.push(s[o])}var u=M.indexOf(a,s[t.selectedIndex]),l=u+(/down|right/.test(e)?1:-1);l>=0&&l<a.length&&(t.selectedIndex=M.indexOf(s,a[l]),S.change(t))}}function _(t){var e=T.getSelectParent(t);if(!e)return!0;var n=f(e),i=R.getSelectElementSize(e);return n||i>1}t.__esModule=!0,t.expandOptionList=c,t.collapseOptionList=h,t.isOptionListExpanded=f,t.getEmulatedChildElement=p,t.scrollOptionListByChild=m,t.getSelectChildCenter=g,t.switchOptionsByKeys=v,t.isOptionElementVisible=_;var y=s("./deps/hammerhead"),C=a(y),E=s("./deps/testcafe-core"),w=a(E),b=C["default"].shadowUI,x=C["default"].utils.browser,B=C["default"].nativeMethods,S=C["default"].eventSandbox.eventSimulator,I=w["default"].positionUtils,T=w["default"].domUtils,R=w["default"].styleUtils,D=w["default"].eventUtils,M=w["default"].arrayUtils,W="tcOptionList",A="tcOptionGroup",V="tcOption",U="disabled",P=x.isIE?30:20,O=null,q=null,j=[],F=[]},"status-bar":{"iframe-status-bar.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}t.__esModule=!0;var u=i("./../deps/hammerhead"),l=s(u),d=i("./../deps/testcafe-core"),c=s(d),h=i("./messages"),f=s(h),p=i("./index"),m=s(p),g=c["default"].sendRequestToFrame,v=l["default"].eventSandbox.message,_=function(t){function n(){return a(this,n),o(this,t.call(this))}return r(n,t),n.prototype.showWaitingElementStatus=function(t){v.sendServiceMsg({cmd:f["default"].startWaitingElement,timeout:t},e.top)},n.prototype.hideWaitingElementStatus=function(t){var n={cmd:f["default"].endWaitingElementRequest,waitingSuccess:t};return g(n,f["default"].endWaitingElementResponse,e.top)},n.prototype.showWaitingAssertionRetriesStatus=function(t){v.sendServiceMsg({cmd:f["default"].startWaitingAssertionRetries,timeout:t},e.top)},n.prototype.hideWaitingAssertionRetriesStatus=function(t){var n={cmd:f["default"].endWaitingAssertionRetriesRequest,waitingSuccess:t};return g(n,f["default"].endWaitingAssertionRetriesResponse,e.top)},n}(m["default"]);t["default"]=_,n.exports=t["default"]},"index.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=s("./../deps/hammerhead"),u=a(r),l=s("./../deps/testcafe-core"),d=a(l),c=s("./progress-bar"),h=a(c),f=s("./messages"),p=a(f),m=u["default"].Promise,g=u["default"].shadowUI,v=u["default"].nativeMethods,_=u["default"].eventSandbox.message,y=u["default"].utils.browser,C=d["default"].styleUtils,E=d["default"].eventUtils,w=d["default"].domUtils,b="status-bar",x="container",B="icon",S="info-container",I="fixture-container",T="fixture",R="user-agent",D="status-container",M="buttons",W="button-icon",A="resume",V="step",U="status",P="only-icon",O="only-buttons",q="icon-buttons",j="icon-status",F="waiting-element-failed",L="waiting-element-success",k="Loading Web Page...",z="Waiting for an element to appear...",H="Waiting for an assertion execution...",N="Debugging test...",G=720,X=380,Y=540,K=330,J=300,Q=500,Z=10,$=function(){function t(e,n,i){o(this,t),this.userAgent=e,this.fixtureName=n,this.testName=i,this.statusBar=null,this.container=null,this.infoContainer=null,this.icon=null,this.fixtureContainer=null,this.resumeButton=null,this.stepButton=null,this.statusDiv=null,this.buttons=null,this.progressBar=null,this.animationInterval=null,this.showingTimeout=null,this.created=!1,this.showing=!1,this.hidding=!1,this.debugging=!1,this.assertionRetries=!1,this._createBeforeReady(),this._initChildListening()}return t.prototype._createFixtureArea=function(){this.infoContainer=n.createElement("div"),g.addClass(this.infoContainer,S),this.container.appendChild(this.infoContainer),this.icon=n.createElement("div"),g.addClass(this.icon,B),this.infoContainer.appendChild(this.icon),this.fixtureContainer=n.createElement("div"),g.addClass(this.fixtureContainer,I),this.infoContainer.appendChild(this.fixtureContainer);var t=n.createElement("div");t.textContent=this.fixtureName+" - "+this.testName,g.addClass(t,T),this.fixtureContainer.appendChild(t);var e=n.createElement("div");e.textContent=this.userAgent,g.addClass(e,R),this.fixtureContainer.appendChild(e)},t.prototype._createStatusArea=function(){var t=n.createElement("div");g.addClass(t,D),this.container.appendChild(t),this.statusDiv=n.createElement("div"),this.statusDiv.textContent=k,g.addClass(this.statusDiv,U),t.appendChild(this.statusDiv),this.buttons=n.createElement("div"),g.addClass(this.buttons,M),t.appendChild(this.buttons),this.resumeButton=this._createButton("Resume",A),this.stepButton=this._createButton("Step",V)},t.prototype._createButton=function(t,e){var i=n.createElement("div"),s=n.createElement("div"),a=n.createElement("span");return a.textContent=t,g.addClass(i,"button"),g.addClass(i,e),g.addClass(s,W),y.isSafari&&(a.style.position="relative",a.style.top="1px"),i.appendChild(s),i.appendChild(a),this.buttons.appendChild(i),i},t.prototype._create=function(){this.statusBar=n.createElement("div"),this.container=n.createElement("div"),g.addClass(this.statusBar,b),g.addClass(this.container,x),this.statusBar.appendChild(this.container),this._createFixtureArea(),this._createStatusArea(),this.progressBar=new h["default"](this.statusBar),this.progressBar.indeterminateIndicator.start(),this.progressBar.show(),g.getRoot().appendChild(this.statusBar),this._recalculateSizes(),this._bindHandlers(),this.created=!0},t.prototype._createBeforeReady=function(){var t=this;this.created||e!==e.top||(n.body?this._create():v.setTimeout.call(e,function(){return t._createBeforeReady()},0))},t.prototype._setSizeStyle=function(t){var e=this.debugging?Y:X;t>G?(g.removeClass(this.statusBar,P),g.removeClass(this.statusBar,O),g.removeClass(this.statusBar,q),g.removeClass(this.statusBar,j)):t<G&&t>e?(g.removeClass(this.statusBar,P),g.removeClass(this.statusBar,O),g.removeClass(this.statusBar,q),g.addClass(this.statusBar,j)):this.debugging?t<e&&t>K?(g.removeClass(this.statusBar,P),g.removeClass(this.statusBar,O),g.addClass(this.statusBar,q),g.removeClass(this.statusBar,j)):t<K&&(g.removeClass(this.statusBar,P),g.addClass(this.statusBar,O),g.removeClass(this.statusBar,q),g.removeClass(this.statusBar,j)):t<e&&(g.removeClass(this.statusBar,O),g.removeClass(this.statusBar,j),g.removeClass(this.statusBar,q),g.addClass(this.statusBar,P))},t.prototype._setFixtureContainerWidth=function(){if("none"!==C.get(this.fixtureContainer,"display")){var t=C.getWidth(this.infoContainer),e=C.getWidth(this.icon),n=C.getElementMargin(this.icon),i=t-e-n.left-n.right-1;C.set(this.fixtureContainer,"width",i+"px")}},t.prototype._setStatusDivLeftMargin=function(){if("none"!==C.get(this.statusDiv,"display")){var t=C.getWidth(this.infoContainer),e=C.getWidth(this.container),n=C.getWidth(this.statusDiv),i=e/2-n/2-t;this.debugging&&(i-=C.getWidth(this.buttons)/2),C.set(this.statusDiv,"marginLeft",Math.max(Math.round(i),0)+"px")}},t.prototype._recalculateSizes=function(){var t=C.getWidth(e);C.set(this.statusBar,"width",t+"px"),this._setSizeStyle(t),this._setFixtureContainerWidth(),this._setStatusDivLeftMargin()},t.prototype._animate=function(t){var n=this,i=Date.now(),s=parseInt(C.get(this.statusBar,"opacity"),10)||0,a=0,o=0,r=0;this._stopAnimation(),this.animationInterval=v.setInterval.call(e,function(){a=Date.now()-i,o=Math.min(a/Q,1),r=.5-Math.cos(o*Math.PI)/2,C.set(n.statusBar,"opacity",s+(t?r:-r)),1===o&&(n._stopAnimation(),n.showing=!1,n.hidding=!1)},Z)},t.prototype._stopAnimation=function(){this.animationInterval&&(v.clearInterval.call(e,this.animationInterval),this.animationInterval=null)},t.prototype._bindHandlers=function(){var t=this;E.bind(e,"resize",function(){return t._recalculateSizes()}),E.bind(this.statusBar,"mouseover",function(){t.hidding||t.debugging||(t.showing=!1,t.hidding=!0,t._animate())}),E.bind(this.statusBar,"mouseout",function(e){t.showing||t.debugging||w.containsElement(t.statusBar,e.relatedTarget)||(t.hidding=!1,t.showing=!0,t._animate(!0))}),E.bind(this.statusBar,y.isTouchDevice?"touchstart":"mousedown",E.preventDefault)},t.prototype._initChildListening=function(){var t=this;_.on(_.SERVICE_MSG_RECEIVED_EVENT,function(e){var n=e.message;n.cmd===p["default"].startWaitingElement?t.showWaitingElementStatus(n.timeout):n.cmd===p["default"].endWaitingElementRequest?t.hideWaitingElementStatus(n.waitingSuccess).then(function(){return _.sendServiceMsg({cmd:p["default"].endWaitingElementResponse},e.source)}):n.cmd===p["default"].startWaitingAssertionRetries?t.showWaitingAssertionRetriesStatus(n.timeout):n.cmd===p["default"].endWaitingAssertionRetriesRequest&&t.hideWaitingAssertionRetriesStatus(n.waitingSuccess).then(function(){return _.sendServiceMsg({cmd:p["default"].endWaitingAssertionRetriesResponse},e.source)})})},t.prototype._resetState=function(){this.debugging=!1,this.buttons.style.display="none",this.statusDiv.textContent="",this.progressBar.hide()},t.prototype._showWaitingStatus=function(){this.statusDiv.textContent=this.assertionRetries?H:z,this._setStatusDivLeftMargin(),this.progressBar.show()},t.prototype._hideWaitingStatus=function(t){var n=this;return new m(function(i){v.setTimeout.call(e,function(){g.removeClass(n.statusBar,L),g.removeClass(n.statusBar,F),n.progressBar.determinateIndicator.reset(),n._resetState(),i()},t?0:Q)})},t.prototype._showDebuggingStatus=function(){var t=this;return new m(function(e){t.debugging=!0,t.statusDiv.textContent=N,t.buttons.style.display="inline-block",t._recalculateSizes();var n=y.isTouchDevice?"touchstart":"mousedown",i=null,s=null;i=function(a){E.preventDefault(a),t._resetState(),E.unbind(t.resumeButton,n,i),E.unbind(t.stepButton,n,s),e()},s=function(a){E.preventDefault(a),t._resetState(),E.unbind(t.resumeButton,n,i),E.unbind(t.stepButton,n,s),e(!0)},E.bind(t.resumeButton,n,i),E.bind(t.stepButton,n,s)})},t.prototype._setWaitingStatus=function(t,n){var i=this;this.progressBar.determinateIndicator.start(t,n),this.showingTimeout=v.setTimeout.call(e,function(){i.showingTimeout=null,i._showWaitingStatus()},J)},t.prototype._resetWaitingStatus=function(t){this.progressBar.determinateIndicator.stop(),t?g.addClass(this.statusBar,L):g.addClass(this.statusBar,F);var n=this.showingTimeout&&t;return this.showingTimeout&&(v.clearTimeout.call(e,this.showingTimeout),this.showingTimeout=null,t||this._showWaitingStatus()),this._hideWaitingStatus(n)},t.prototype.hidePageLoadingStatus=function(){this.created||this._create(),this.progressBar.indeterminateIndicator.stop(),this._resetState()},t.prototype.showDebuggingStatus=function(){return this._stopAnimation(),C.set(this.statusBar,"opacity",1),this._showDebuggingStatus()},t.prototype.showWaitingElementStatus=function(t){this.assertionRetries||this._setWaitingStatus(t)},t.prototype.hideWaitingElementStatus=function(t){return this.assertionRetries?m.resolve():this._resetWaitingStatus(t)},t.prototype.showWaitingAssertionRetriesStatus=function(t,e){this.assertionRetries=!0,this._setWaitingStatus(t,e)},t.prototype.hideWaitingAssertionRetriesStatus=function(t){var e=this;return this._resetWaitingStatus(t).then(function(){e.assertionRetries=!1})},t}();t["default"]=$,i.exports=t["default"]},"messages.js":function(t,e,n){t.__esModule=!0,t["default"]={startWaitingElement:"start-waiting-element",endWaitingElementRequest:"end-waiting-element-request",endWaitingElementResponse:"end-waiting-element-response",startWaitingAssertionRetries:"start-waiting-assertion-retries",endWaitingAssertionRetriesRequest:"end-waiting-assertion-retries-request",endWaitingAssertionRetriesResponse:"end-waiting-assertion-retries-response"},e.exports=t["default"]},"progress-bar":{"determinate-indicator.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i("../../deps/hammerhead"),r=s(o),u=i("../../deps/testcafe-core"),l=s(u),d=r["default"].shadowUI,c=r["default"].nativeMethods,h=l["default"].styleUtils,f="determinate",p=10,m=function(){function t(e,n){a(this,t),this.progressBar=e,this.firstValueElement=n,this.maxTimeout=null,this.startTime=null,this.animationInterval=null}return t.prototype._setCurrentProgress=function(){var t=(Date.now()-this.startTime)/this.maxTimeout,e=Math.min(Math.max(t,0),1),n=h.getWidth(this.progressBar),i=Math.round(n*e);h.set(this.firstValueElement,"width",i+"px")},t.prototype.start=function(t,n){var i=this;d.addClass(this.progressBar,f),this.maxTimeout=t,this.startTime=n||Date.now(),this._setCurrentProgress(),this.animationInterval=c.setInterval.call(e,function(){return i._setCurrentProgress()},p)},t.prototype.stop=function(){this.animationInterval&&(c.clearInterval.call(e,this.animationInterval),this.animationInterval=null)},t.prototype.reset=function(){h.set(this.firstValueElement,"width",0),d.removeClass(this.progressBar,f)},t}();t["default"]=m,n.exports=t["default"]},"indeterminate-indicator.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){return 3*Math.pow(1-t,2)*t*e+3*(1-t)*t*t*n+t*t*t}function r(t,e){var n=t<E.middle,i=n?E.start:E.middle,s=n?E.middle:E.end,a=e[i],o=e[s],r={x:i,y:a.left},u={x:s,y:o.left},l=m.getLineYByXCoord(r,u,t);r={x:i,y:a.right},u={x:s,y:o.right};var d=m.getLineYByXCoord(r,u,t);return{left:l,right:d}}t.__esModule=!0;var u=i("../../deps/hammerhead"),l=s(u),d=i("../../deps/testcafe-core"),c=s(d),h=l["default"].shadowUI,f=l["default"].nativeMethods,p=c["default"].styleUtils,m=c["default"].positionUtils,g={time:2800,points:[.815,.395],positionByCompletePercent:{0:{left:-35,right:100},.6:{left:100,right:-90},1:{left:100,right:-90}}},v={time:3e3,points:[.84,1],positionByCompletePercent:{0:{left:-200,right:100},.6:{left:107,right:-8},1:{left:107,right:-8}}},_=1e3,y=10,C=1950,E={start:0,middle:.6,end:1},w="indeterminate",b=function(){function t(e,n,i){a(this,t),this.progressBar=e,this.firstValue=n,this.secondValue=i,this.animationInterval=null,this.secondValueAnimationInterval=null,this.secondValueAnimationTimeout=null,this.restartAnimationTimeout=null}return t._updateValueAnimation=function(t,e,n){var i=n.time,s=n.points,a=n.positionByCompletePercent,u=Date.now()-t,l=u/i,d=o(l,s[0],s[1]),c=r(d,a),h=c.left,f=c.right;p.set(e,"left",Math.round(h)+"%"),p.set(e,"right",Math.round(f)+"%")},t.prototype._clearFirstValueAnimation=function(){this.animationInterval&&(f.clearInterval.call(e,this.animationInterval),this.animationInterval=null),p.set(this.firstValue,"left","-35%"),p.set(this.firstValue,"right","100%")},t.prototype._clearSecondValueAnimation=function(){this.secondValueAnimationInterval&&(f.clearInterval.call(e,this.secondValueAnimationInterval),this.secondValueAnimationInterval=null),p.set(this.secondValue,"left","-200%"),p.set(this.secondValue,"right","100%")},t.prototype._startFirstValueAnimation=function(){var n=this;this._clearFirstValueAnimation();var i=Date.now();this.animationInterval=f.setInterval.call(e,function(){t._updateValueAnimation(i,n.firstValue,g)},y)},t.prototype._startSecondValueAnimation=function(){var n=this;this._clearSecondValueAnimation();var i=Date.now();this.secondValueAnimationInterval=f.setInterval.call(e,function(){t._updateValueAnimation(i,n.secondValue,v)},y)},t.prototype._startAnimation=function(){var t=this;this._startFirstValueAnimation(),
this.secondValueAnimationTimeout=f.setTimeout.call(e,function(){return t._startSecondValueAnimation()},_),this.restartAnimationTimeout=f.setTimeout.call(e,function(){return t._startAnimation()},C)},t.prototype._stopAnimation=function(){this._clearFirstValueAnimation(),this._clearSecondValueAnimation(),this.secondValueAnimationTimeout&&(f.clearInterval.call(e,this.secondValueAnimationTimeout),this.secondValueAnimationTimeout=null),this.restartAnimationTimeout&&(f.clearInterval.call(e,this.restartAnimationTimeout),this.restartAnimationTimeout=null)},t.prototype.start=function(){h.addClass(this.progressBar,w),this._startAnimation()},t.prototype.stop=function(){h.removeClass(this.progressBar,w),this._stopAnimation()},t}();t["default"]=b,n.exports=t["default"]},"index.js":function(t,e,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i("../../deps/hammerhead"),r=s(o),u=i("../../deps/testcafe-core"),l=s(u),d=i("./determinate-indicator"),c=s(d),h=i("./indeterminate-indicator"),f=s(h),p=r["default"].shadowUI,m=l["default"].styleUtils,g="progress-bar",v="value-container",_="value",y=function(){function t(e){a(this,t),this.progressBar=null,this.firstValueElement=null,this.secondValueElement=null,this._create(e),this.determinateIndicator=new c["default"](this.progressBar,this.firstValueElement),this.indeterminateIndicator=new f["default"](this.progressBar,this.firstValueElement,this.secondValueElement)}return t.prototype._create=function(t){this.progressBar=n.createElement("div"),p.addClass(this.progressBar,g),t.appendChild(this.progressBar);var e=n.createElement("div");p.addClass(e,v),this.progressBar.appendChild(e),this.firstValueElement=n.createElement("div"),p.addClass(this.firstValueElement,_),e.appendChild(this.firstValueElement),this.secondValueElement=n.createElement("div"),p.addClass(this.secondValueElement,_),e.appendChild(this.secondValueElement)},t.prototype.show=function(){m.set(this.progressBar,"visibility","visible")},t.prototype.hide=function(){m.set(this.progressBar,"visibility","hidden")},t}();t["default"]=y,e.exports=t["default"]}}}}}}}})("testcafe/src/client/ui/index")}t(window)}();